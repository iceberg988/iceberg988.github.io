<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/logo/FlamingBytes-icon-64x64-1.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo/FlamingBytes-icon-64x64-1.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo/FlamingBytes-icon-64x64-1.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.flamingbytes.com","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"fold":{"enable":true,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="What is Graph Data Structure A Graph is a non-linear data structure consisting of vertices and edges. The vertices are sometimes also referred to as nodes and the edges are lines or arcs that connect">
<meta property="og:type" content="article">
<meta property="og:title" content="BFS and DFS in Graph">
<meta property="og:url" content="https://www.flamingbytes.com/blog/bfs-and-dfs-in-graph/index.html">
<meta property="og:site_name" content="FlamingBytes">
<meta property="og:description" content="What is Graph Data Structure A Graph is a non-linear data structure consisting of vertices and edges. The vertices are sometimes also referred to as nodes and the edges are lines or arcs that connect">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://www.flamingbytes.com/images/leetcode_1466_1.png">
<meta property="og:image" content="https://www.flamingbytes.com/images/leetcode_994_1.png">
<meta property="og:image" content="https://www.flamingbytes.com/images/leetcode_1926_1.png">
<meta property="article:published_time" content="2023-10-08T05:43:30.000Z">
<meta property="article:modified_time" content="2023-10-23T04:23:46.000Z">
<meta property="article:author" content="relentlesstorm">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Algorithm">
<meta property="article:tag" content="Data Structure">
<meta property="article:tag" content="Graph">
<meta property="article:tag" content="DFS">
<meta property="article:tag" content="BFS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.flamingbytes.com/images/leetcode_1466_1.png">


<link rel="canonical" href="https://www.flamingbytes.com/blog/bfs-and-dfs-in-graph/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://www.flamingbytes.com/blog/bfs-and-dfs-in-graph/","path":"blog/bfs-and-dfs-in-graph/","title":"BFS and DFS in Graph"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>BFS and DFS in Graph | FlamingBytes</title>
  







<!-- Google Adsense-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8578408127828851"
     crossorigin="anonymous"></script>

<!-- Google tag (gtag.js) for analytics-->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-B8PQ47L2H0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B8PQ47L2H0');
</script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">FlamingBytes</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">10</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">99</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">258</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-Graph-Data-Structure"><span class="nav-number">1.</span> <span class="nav-text">What is Graph Data Structure</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DFS"><span class="nav-number">2.</span> <span class="nav-text">DFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-399-Evaluate-Division"><span class="nav-number">2.1.</span> <span class="nav-text">[Leetcode 399] Evaluate Division</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-547-Number-of-Provinces"><span class="nav-number">2.2.</span> <span class="nav-text">[Leetcode 547] Number of Provinces</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-684-Redundant-Connection"><span class="nav-number">2.3.</span> <span class="nav-text">[Leetcode 684] Redundant Connection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-841-Keys-and-Rooms"><span class="nav-number">2.4.</span> <span class="nav-text">[Leetcode 841] Keys and Rooms</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-1466-Reorder-Routes-to-Make-All-Paths-Lead-to-the-City-Zero"><span class="nav-number">2.5.</span> <span class="nav-text">[Leetcode 1466] Reorder Routes to Make All Paths Lead to the City Zero</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BFS"><span class="nav-number">3.</span> <span class="nav-text">BFS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-994-Rotting-Oranges"><span class="nav-number">3.1.</span> <span class="nav-text">[Leetcode 994] Rotting Oranges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Leetcode-1926-Nearest-Exit-from-Entrance-in-Maze"><span class="nav-number">3.2.</span> <span class="nav-text">[Leetcode 1926] Nearest Exit from Entrance in Maze</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="relentlesstorm"
      src="/images/logo/FlamingBytes-icon-64x64-1.png">
  <p class="site-author-name" itemprop="name">relentlesstorm</p>
  <div class="site-description" itemprop="description">Stay hungry, stay foolish</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">258</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="mailto:relentlesstorm@gmail.com" title="E-Mail → mailto:relentlesstorm@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/blog/graph-implementation-in-python/" rel="bookmark">
        <time class="popular-posts-time">2023-04-16</time>
        <br>
      Graph implementation in Python
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/blog/linked-list-in-python/" rel="bookmark">
        <time class="popular-posts-time">2023-10-11</time>
        <br>
      Linked list in Python
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/blog/sliding-window/" rel="bookmark">
        <time class="popular-posts-time">2023-10-02</time>
        <br>
      Sliding window
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/blog/solve-leetcode-problems-in-visual-studio-code/" rel="bookmark">
        <time class="popular-posts-time">2021-12-05</time>
        <br>
      Solve LeetCode problems in Visual Studio Code
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/blog/flame-graph-and-stack-trace-visualization/" rel="bookmark">
        <time class="popular-posts-time">2023-02-24</time>
        <br>
      Flame Graph and stack trace visualization
      </a>
    </li>
  </ul>

          </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.flamingbytes.com/blog/bfs-and-dfs-in-graph/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/logo/FlamingBytes-icon-64x64-1.png">
      <meta itemprop="name" content="relentlesstorm">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="FlamingBytes">
      <meta itemprop="description" content="Stay hungry, stay foolish">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="BFS and DFS in Graph | FlamingBytes">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          BFS and DFS in Graph
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-10-07 22:43:30" itemprop="dateCreated datePublished" datetime="2023-10-07T22:43:30-07:00">2023-10-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-10-22 21:23:46" itemprop="dateModified" datetime="2023-10-22T21:23:46-07:00">2023-10-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">Views: </span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="What-is-Graph-Data-Structure"><a href="#What-is-Graph-Data-Structure" class="headerlink" title="What is Graph Data Structure"></a>What is Graph Data Structure</h2><blockquote>
<p>A Graph is a non-linear data structure consisting of vertices and edges. The vertices are sometimes also referred to as nodes and the edges are lines or arcs that connect any two nodes in the graph. More formally a Graph is composed of a set of vertices( V ) and a set of edges( E ). The graph is denoted by G(E, V).</p>
</blockquote>
<span id="more"></span>

<p>Components of a Graph</p>
<ul>
<li>Vertices are the fundamental units of the graph. Sometimes, vertices are also known as vertex or nodes. Every node&#x2F;vertex can be labeled or unlabelled.</li>
<li>Edges are drawn or used to connect two nodes of the graph. It can be ordered pair of nodes in a directed graph. Edges can connect any two nodes in any possible way. There are no rules. Sometimes, edges are also known as arcs. Every edge can be labeled&#x2F;unlabelled.</li>
</ul>
<h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><h3 id="Leetcode-399-Evaluate-Division"><a href="#Leetcode-399-Evaluate-Division" class="headerlink" title="[Leetcode 399] Evaluate Division"></a>[Leetcode 399] Evaluate Division</h3><p>You are given an array of variable pairs equations and an array of real numbers values, where equations[i] &#x3D; [Ai, Bi] and values[i] represent the equation Ai &#x2F; Bi &#x3D; values[i]. Each Ai or Bi is a string that represents a single variable.</p>
<p>You are also given some queries, where queries[j] &#x3D; [Cj, Dj] represents the jth query where you must find the answer for Cj &#x2F; Dj &#x3D; ?.</p>
<p>Return the answers to all queries. If a single answer cannot be determined, return -1.0.</p>
<p>Note: The input is always valid. You may assume that evaluating the queries will not result in division by zero and that there is no contradiction.</p>
<p>Note: The variables that do not occur in the list of equations are undefined, so the answer cannot be determined for them.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: equations = [[&quot;a&quot;,&quot;b&quot;],[&quot;b&quot;,&quot;c&quot;]], values = [2.0,3.0], queries = [[&quot;a&quot;,&quot;c&quot;],[&quot;b&quot;,&quot;a&quot;],[&quot;a&quot;,&quot;e&quot;],[&quot;a&quot;,&quot;a&quot;],[&quot;x&quot;,&quot;x&quot;]]</span><br><span class="line">Output: [6.00000,0.50000,-1.00000,1.00000,-1.00000]</span><br><span class="line">Explanation: </span><br><span class="line">Given: a / b = 2.0, b / c = 3.0</span><br><span class="line">queries are: a / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ? </span><br><span class="line">return: [6.0, 0.5, -1.0, 1.0, -1.0 ]</span><br><span class="line">note: x is undefined =&gt; -1.0</span><br></pre></td></tr></table></figure>

<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calcEquation</span>(<span class="params">self, equations: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]], values: <span class="type">List</span>[<span class="built_in">float</span>], queries: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">        graph = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        vals = &#123;&#125; <span class="comment"># e.g. vals[(a,b)]=2 means a/b=2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># build bi-directional graph</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(equations)):</span><br><span class="line">            v1, v2 = equations[i]</span><br><span class="line">            graph[v1].append(v2)</span><br><span class="line">            graph[v2].append(v1)</span><br><span class="line">            vals[(v1, v2)] = values[i]</span><br><span class="line">            vals[(v2, v1)] = <span class="number">1</span> / values[i]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># dfs search a path from start to end node</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">start, end, visited</span>):</span><br><span class="line">            <span class="keyword">if</span> start <span class="keyword">in</span> visited:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> start == end:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># mark start node as visited</span></span><br><span class="line">            visited.add(start)</span><br><span class="line">            res = <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> neighbour <span class="keyword">in</span> graph[start]:</span><br><span class="line">                <span class="comment"># e.g. a/c =&gt; a/b * b/c</span></span><br><span class="line">                res = dfs(neighbour, end, visited) * vals[(start, neighbour)]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># found a path</span></span><br><span class="line">                <span class="keyword">if</span> res &lt; <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>):</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment">#  calculate each query</span></span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> v1, v2 <span class="keyword">in</span> queries:</span><br><span class="line">            <span class="keyword">if</span> v1 <span class="keyword">not</span> <span class="keyword">in</span> graph <span class="keyword">or</span> v2 <span class="keyword">not</span> <span class="keyword">in</span> graph:</span><br><span class="line">                ans.append(-<span class="number">1.0</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            ret = dfs(v1, v2, <span class="built_in">set</span>())</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ret == <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>):</span><br><span class="line">                ans.append(-<span class="number">1.0</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans.append(ret)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h3 id="Leetcode-547-Number-of-Provinces"><a href="#Leetcode-547-Number-of-Provinces" class="headerlink" title="[Leetcode 547] Number of Provinces"></a>[Leetcode 547] Number of Provinces</h3><p>There are n cities. Some of them are connected, while some are not. If city a is connected directly with city b, and city b is connected directly with city c, then city a is connected indirectly with city c.</p>
<p>A province is a group of directly or indirectly connected cities and no other cities outside of the group.</p>
<p>You are given an n x n matrix isConnected where isConnected[i][j] &#x3D; 1 if the ith city and the jth city are directly connected, and isConnected[i][j] &#x3D; 0 otherwise.</p>
<p>Return the total number of provinces.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">     1   ---   2</span><br><span class="line"></span><br><span class="line">          3</span><br><span class="line"></span><br><span class="line">Input: isConnected = [[1,1,0],[1,1,0],[0,0,1]]</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure>

<p>Solution：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findCircleNum</span>(<span class="params">self, isConnected: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n = <span class="built_in">len</span>(isConnected)</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        visited = [<span class="literal">False</span>] * n</span><br><span class="line"></span><br><span class="line">        <span class="comment"># dfs search to explore a province</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">node, visited</span>):</span><br><span class="line">            visited[node] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> visited[i] <span class="keyword">and</span> isConnected[node][i] == <span class="number">1</span>:</span><br><span class="line">                    dfs(i, visited)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># dfs search each city and its neighbours. A unvisited city means a new province is formed.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> visited[i]:</span><br><span class="line">                res += <span class="number">1</span></span><br><span class="line">                dfs(i, visited)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="Leetcode-684-Redundant-Connection"><a href="#Leetcode-684-Redundant-Connection" class="headerlink" title="[Leetcode 684] Redundant Connection"></a>[Leetcode 684] Redundant Connection</h3><p>In this problem, a tree is an undirected graph that is connected and has no cycles.</p>
<p>You are given a graph that started as a tree with n nodes labeled from 1 to n, with one additional edge added. The added edge has two different vertices chosen from 1 to n, and was not an edge that already existed. The graph is represented as an array edges of length n where edges[i] &#x3D; [ai, bi] indicates that there is an edge between nodes ai and bi in the graph.</p>
<p>Return an edge that can be removed so that the resulting graph is a tree of n nodes. If there are multiple answers, return the answer that occurs last in the input.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    1 --- 2  </span><br><span class="line">    |  /</span><br><span class="line">    3</span><br><span class="line">Input: edges = [[1,2],[1,3],[2,3]]</span><br><span class="line">Output: [2,3]</span><br></pre></td></tr></table></figure>

<p>Example 2:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   2 --- 1 --- 5</span><br><span class="line">   |     |</span><br><span class="line">   3 --- 4 </span><br><span class="line">Input: edges = [[1,2],[2,3],[3,4],[1,4],[1,5]]</span><br><span class="line">Output: [1,4]</span><br></pre></td></tr></table></figure>

<p>Constraints:</p>
<ul>
<li>n &#x3D;&#x3D; edges.length</li>
<li>3 &lt;&#x3D; n &lt;&#x3D; 1000</li>
<li>edges[i].length &#x3D;&#x3D; 2</li>
<li>1 &lt;&#x3D; ai &lt; bi &lt;&#x3D; edges.length</li>
<li>ai !&#x3D; bi</li>
<li>There are no repeated edges.</li>
<li>The given graph is connected.</li>
</ul>
<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findRedundantConnection</span>(<span class="params">self, edges: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="comment"># graph to be constructed</span></span><br><span class="line">        graph = defaultdict(<span class="built_in">set</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># dfs search if a path exists from u to v</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">u, v</span>):</span><br><span class="line">            <span class="comment"># a path is found when to reach the target point v</span></span><br><span class="line">            <span class="keyword">if</span> u == v:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># mark start point as visited</span></span><br><span class="line">            visited.add(u)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># dfs search through each neighbor</span></span><br><span class="line">            <span class="keyword">for</span> neighbor <span class="keyword">in</span> graph[u]:</span><br><span class="line">                <span class="keyword">if</span> neighbor <span class="keyword">not</span> <span class="keyword">in</span> visited <span class="keyword">and</span> dfs(neighbor, v):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># add each edge [u,v] to the graph</span></span><br><span class="line">        <span class="keyword">for</span> u, v <span class="keyword">in</span> edges:</span><br><span class="line">            <span class="comment"># a new visited is needed for each dfs search from u to v</span></span><br><span class="line">            visited = <span class="built_in">set</span>()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># there exist a path from u to v in the existing graph, the cycle will be formed if new edge [u,v] is added</span></span><br><span class="line">            <span class="keyword">if</span> dfs(u, v):</span><br><span class="line">                <span class="keyword">return</span> [u, v]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># add edge [u,v] to graph</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                graph[u].add(v)</span><br><span class="line">                graph[v].add(u)</span><br></pre></td></tr></table></figure>

<h3 id="Leetcode-841-Keys-and-Rooms"><a href="#Leetcode-841-Keys-and-Rooms" class="headerlink" title="[Leetcode 841] Keys and Rooms"></a>[Leetcode 841] Keys and Rooms</h3><p>There are n rooms labeled from 0 to n - 1 and all the rooms are locked except for room 0. Your goal is to visit all the rooms. However, you cannot enter a locked room without having its key.</p>
<p>When you visit a room, you may find a set of distinct keys in it. Each key has a number on it, denoting which room it unlocks, and you can take all of them with you to unlock the other rooms.</p>
<p>Given an array rooms where rooms[i] is the set of keys that you can obtain if you visited room i, return true if you can visit all the rooms, or false otherwise.</p>
<p>Example 1:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: rooms = [[1],[2],[3],[]]</span><br><span class="line">Output: true</span><br><span class="line">Explanation: </span><br><span class="line">We visit room 0 and pick up key 1.</span><br><span class="line">We then visit room 1 and pick up key 2.</span><br><span class="line">We then visit room 2 and pick up key 3.</span><br><span class="line">We then visit room 3.</span><br><span class="line">Since we were able to visit every room, we return true.</span><br></pre></td></tr></table></figure>

<p>Example 2:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: rooms = [[1,3],[3,0,1],[2],[0]]</span><br><span class="line">Output: false</span><br><span class="line">Explanation: We can not enter room number 2 since the only key that unlocks it is in that room.</span><br></pre></td></tr></table></figure>

<p>Constraints:</p>
<ul>
<li>n &#x3D;&#x3D; rooms.length</li>
<li>2 &lt;&#x3D; n &lt;&#x3D; 1000</li>
<li>0 &lt;&#x3D; rooms[i].length &lt;&#x3D; 1000</li>
<li>1 &lt;&#x3D; sum(rooms[i].length) &lt;&#x3D; 3000</li>
<li>0 &lt;&#x3D; rooms[i][j] &lt; n</li>
<li>All the values of rooms[i] are unique.</li>
</ul>
<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">canVisitAllRooms</span>(<span class="params">self, rooms: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        visited = [<span class="literal">False</span>] * <span class="built_in">len</span>(rooms)</span><br><span class="line">        visited[<span class="number">0</span>] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">roomIdx</span>):</span><br><span class="line">            <span class="keyword">for</span> idx <span class="keyword">in</span> rooms[roomIdx]:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> visited[idx]:</span><br><span class="line">                    visited[idx] = <span class="literal">True</span></span><br><span class="line">                    dfs(idx)</span><br><span class="line"></span><br><span class="line">        dfs(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">all</span>(visited)</span><br></pre></td></tr></table></figure>

<h3 id="Leetcode-1466-Reorder-Routes-to-Make-All-Paths-Lead-to-the-City-Zero"><a href="#Leetcode-1466-Reorder-Routes-to-Make-All-Paths-Lead-to-the-City-Zero" class="headerlink" title="[Leetcode 1466] Reorder Routes to Make All Paths Lead to the City Zero"></a>[Leetcode 1466] Reorder Routes to Make All Paths Lead to the City Zero</h3><p>There are n cities numbered from 0 to n - 1 and n - 1 roads such that there is only one way to travel between two different cities (this network form a tree). Last year, The ministry of transport decided to orient the roads in one direction because they are too narrow.</p>
<p>Roads are represented by connections where connections[i] &#x3D; [ai, bi] represents a road from city ai to city bi.</p>
<p>This year, there will be a big event in the capital (city 0), and many people want to travel to this city.</p>
<p>Your task consists of reorienting some roads such that each city can visit the city 0. Return the minimum number of edges changed.</p>
<p>It’s guaranteed that each city can reach city 0 after reorder.</p>
<p>Example 1:</p>
<p><img src="/images/leetcode_1466_1.png" alt="Image"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: n = 6, connections = [[0,1],[1,3],[2,3],[4,0],[4,5]]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: Change the direction of edges show in red such that each node can reach the node 0 (capital).</span><br></pre></td></tr></table></figure>

<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minReorder</span>(<span class="params">self, n: <span class="built_in">int</span>, connections: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># create graph with adjacent list</span></span><br><span class="line">        <span class="comment"># mark the connection as 1 if the original connection is from parent to child</span></span><br><span class="line">        <span class="comment"># mark the connection as 0 if the original connection is from child to parent </span></span><br><span class="line">        graph = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> conn <span class="keyword">in</span> connections:</span><br><span class="line">            graph[conn[<span class="number">0</span>]].append((conn[<span class="number">1</span>],<span class="number">1</span>))</span><br><span class="line">            graph[conn[<span class="number">1</span>]].append((conn[<span class="number">0</span>],<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(graph)</span><br><span class="line"></span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># dfs search from root to its subtrees</span></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">dfs</span>(<span class="params">node, parentVal</span>):</span><br><span class="line">            <span class="keyword">for</span> childNode <span class="keyword">in</span> graph[node]:</span><br><span class="line">                childVal = childNode[<span class="number">0</span>]</span><br><span class="line">                parentToChild = childNode[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">                <span class="comment"># only extend the path from parent to child</span></span><br><span class="line">                <span class="keyword">if</span> childVal != parentVal:</span><br><span class="line">                    <span class="comment"># flip the connection only if original connection is from parent to child</span></span><br><span class="line">                    self.count += parentToChild</span><br><span class="line"></span><br><span class="line">                    <span class="comment"># extend the path</span></span><br><span class="line">                    dfs(childVal, node)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># treat the graph as a tree rooted with node 0</span></span><br><span class="line">        dfs(<span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> self.count</span><br></pre></td></tr></table></figure>

<h2 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h2><h3 id="Leetcode-994-Rotting-Oranges"><a href="#Leetcode-994-Rotting-Oranges" class="headerlink" title="[Leetcode 994] Rotting Oranges"></a>[Leetcode 994] Rotting Oranges</h3><p>You are given an m x n grid where each cell can have one of three values:</p>
<ul>
<li>0 representing an empty cell,</li>
<li>1 representing a fresh orange, or</li>
<li>2 representing a rotten orange.</li>
</ul>
<p>Every minute, any fresh orange that is 4-directionally adjacent to a rotten orange becomes rotten.</p>
<p>Return the minimum number of minutes that must elapse until no cell has a fresh orange. If this is impossible, return -1.</p>
<p>Example 1:</p>
<p><img src="/images/leetcode_994_1.png" alt="Image"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: grid = [[2,1,1],[1,1,0],[0,1,1]]</span><br><span class="line">Output: 4</span><br></pre></td></tr></table></figure>

<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">orangesRotting</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># init a queue with rotten oranges</span></span><br><span class="line">        qu = deque()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="number">2</span>:</span><br><span class="line">                    qu.append((i,j))</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># 4 directions to rotten</span></span><br><span class="line">        directions = [(-<span class="number">1</span>,<span class="number">0</span>),(<span class="number">1</span>,<span class="number">0</span>),(<span class="number">0</span>,-<span class="number">1</span>),(<span class="number">0</span>,<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">        minutes = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> qu:</span><br><span class="line">            <span class="comment"># number of rotten oranges</span></span><br><span class="line">            n = <span class="built_in">len</span>(qu)</span><br><span class="line"></span><br><span class="line">            <span class="comment"># rotten fresh oranges very minute</span></span><br><span class="line">            rotten = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                first = qu.popleft()</span><br><span class="line"></span><br><span class="line">                <span class="comment"># rotten fresh oranges of current rotten orange</span></span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> directions:</span><br><span class="line">                    x, y = first[<span class="number">0</span>] + dx, first[<span class="number">1</span>] + dy</span><br><span class="line">                    <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; <span class="built_in">len</span>(grid) <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; <span class="built_in">len</span>(grid[<span class="number">0</span>]) <span class="keyword">and</span> grid[x][y] == <span class="number">1</span>:</span><br><span class="line">                        grid[x][y] = <span class="number">2</span> <span class="comment"># rotten it</span></span><br><span class="line">                        qu.append((x,y)) <span class="comment"># add the new rotten orange to queue</span></span><br><span class="line">                        rotten = <span class="literal">True</span> <span class="comment"># set rotten flag</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># mark current rotten orange as visited</span></span><br><span class="line">                grid[first[<span class="number">0</span>]][first[<span class="number">1</span>]] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># add minutes only if there is new rotten oranges</span></span><br><span class="line">            <span class="keyword">if</span> rotten:</span><br><span class="line">                minutes += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># check if there is still fresh orange which can&#x27;t be rotten</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(grid[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j] == <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> minutes</span><br></pre></td></tr></table></figure>

<h3 id="Leetcode-1926-Nearest-Exit-from-Entrance-in-Maze"><a href="#Leetcode-1926-Nearest-Exit-from-Entrance-in-Maze" class="headerlink" title="[Leetcode 1926] Nearest Exit from Entrance in Maze"></a>[Leetcode 1926] Nearest Exit from Entrance in Maze</h3><p>You are given an m x n matrix maze (0-indexed) with empty cells (represented as ‘.’) and walls (represented as ‘+’). You are also given the entrance of the maze, where entrance &#x3D; [entrancerow, entrancecol] denotes the row and column of the cell you are initially standing at.</p>
<p>In one step, you can move one cell up, down, left, or right. You cannot step into a cell with a wall, and you cannot step outside the maze. Your goal is to find the nearest exit from the entrance. An exit is defined as an empty cell that is at the border of the maze. The entrance does not count as an exit.</p>
<p>Return the number of steps in the shortest path from the entrance to the nearest exit, or -1 if no such path exists.</p>
<p>Example 1:</p>
<p><img src="/images/leetcode_1926_1.png" alt="Image"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Input: maze = [[&quot;+&quot;,&quot;+&quot;,&quot;.&quot;,&quot;+&quot;],[&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;+&quot;],[&quot;+&quot;,&quot;+&quot;,&quot;+&quot;,&quot;.&quot;]], entrance = [1,2]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: There are 3 exits in this maze at [1,0], [0,2], and [2,3].</span><br><span class="line">Initially, you are at the entrance cell [1,2].</span><br><span class="line">- You can reach [1,0] by moving 2 steps left.</span><br><span class="line">- You can reach [0,2] by moving 1 step up.</span><br><span class="line">It is impossible to reach [2,3] from the entrance.</span><br><span class="line">Thus, the nearest exit is [0,2], which is 1 step away.</span><br></pre></td></tr></table></figure>

<p>Solution:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">nearestExit</span>(<span class="params">self, maze: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]], entrance: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        moves = [(-<span class="number">1</span>,<span class="number">0</span>), (<span class="number">1</span>,<span class="number">0</span>), (<span class="number">0</span>,<span class="number">1</span>), (<span class="number">0</span>,-<span class="number">1</span>)]</span><br><span class="line">        qu = deque()</span><br><span class="line">        qu.append(entrance)</span><br><span class="line">        visited = <span class="built_in">set</span>(<span class="built_in">tuple</span>(entrance))  <span class="comment"># unhashable type: &#x27;list&#x27;</span></span><br><span class="line"></span><br><span class="line">        levels = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> qu:</span><br><span class="line">            <span class="comment"># traverse the current level</span></span><br><span class="line">            levelCells = <span class="built_in">len</span>(qu)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(levelCells):</span><br><span class="line">                first = qu.popleft()</span><br><span class="line">                currX, currY = first[<span class="number">0</span>], first[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> currX == <span class="number">0</span> <span class="keyword">or</span> currX == <span class="built_in">len</span>(maze) - <span class="number">1</span> <span class="keyword">or</span> currY == <span class="number">0</span> <span class="keyword">or</span> currY == <span class="built_in">len</span>(maze[<span class="number">0</span>]) - <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span> maze[currX][currY] == <span class="string">&#x27;.&#x27;</span> <span class="keyword">and</span> [currX, currY] != entrance:</span><br><span class="line">                        <span class="comment"># found nearest exit</span></span><br><span class="line">                        <span class="keyword">return</span> levels</span><br><span class="line"></span><br><span class="line">                <span class="comment"># bfs search next level(4 directions) for current cell</span></span><br><span class="line">                <span class="keyword">for</span> dx, dy <span class="keyword">in</span> moves:</span><br><span class="line">                    x, y = first[<span class="number">0</span>] + dx, first[<span class="number">1</span>] + dy</span><br><span class="line">                    <span class="keyword">if</span>  <span class="number">0</span> &lt;= x &lt; <span class="built_in">len</span>(maze) <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; <span class="built_in">len</span>(maze[<span class="number">0</span>]) <span class="keyword">and</span> maze[x][y] == <span class="string">&#x27;.&#x27;</span> <span class="keyword">and</span> (x,y) <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                        visited.add((x,y))</span><br><span class="line">                        qu.append([x,y])</span><br><span class="line"></span><br><span class="line">            <span class="comment"># move to next level</span></span><br><span class="line">            levels += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>   </span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
              <a href="/tags/Algorithm/" rel="tag"><i class="fa fa-tag"></i> Algorithm</a>
              <a href="/tags/Data-Structure/" rel="tag"><i class="fa fa-tag"></i> Data Structure</a>
              <a href="/tags/Graph/" rel="tag"><i class="fa fa-tag"></i> Graph</a>
              <a href="/tags/DFS/" rel="tag"><i class="fa fa-tag"></i> DFS</a>
              <a href="/tags/BFS/" rel="tag"><i class="fa fa-tag"></i> BFS</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/binary-search-tree-in-python/" rel="prev" title="Binary search tree in Python">
                  <i class="fa fa-angle-left"></i> Binary search tree in Python
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/blog/trie/" rel="next" title="Trie (Prefix Tree)">
                  Trie (Prefix Tree) <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">relentlesstorm</span>
  </div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
